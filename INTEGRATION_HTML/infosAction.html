<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="style.css">
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/base/jquery-ui.css" rel="stylesheet"
        type="text/css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

    <!-- Gérer boutons et montrer ou cacher sections-->
    <script src="ids.js" defer></script>

    <!-- Obtenir symbole de l'action cherchée -->
    <script src="inputFunction.js" type="text/javascript"></script>


    <script src="boutonNav.js" defer></script>


    <!-- Script pour action-->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
</head>
<script>
  var symbol = getSymbolUrl("symbol");
  action2(symbol);
</script>

<body>


  <div class="topnav">
    <button onclick="location.href = 'Main.html'"><i class="fa fa-fw fa-home"></i> Menu principal</button>
    <div style="float: right;">
      <button onclick="boutonPortefeuille()" style="width:auto;">Mon portefeuille</button>
      <button onclick="boutonCompte()" style="width:auto;">
        <i class="fa fa-user"></i>
        Compte
      </button>
    </div>
  </div>


  <!-- Fenêtres de connexion-->

  <!-- S'inscrire -->

  <div id="id02" class="modal">

    <form class="modal-content animate" th>

      <div class="container">
        <label for="uname"><b>Nom d'utilisateur</b></label>
        <input type="text" placeholder="Entrer votre nom d'utilisateur" name="uname" required>
        <label for="psw"><b>Mot de passe</b></label>
        <input type="password" placeholder="Entrer votre mot de passe" name="psw" required>

        <label for="psw2"><b>Confirmer le mot de passe</b></label>
        <input type="password" placeholder="Entrer votre mot de passe à nouveau" name="psw2" required>



        <button type="submit" style="width: 100%;" onclick="postUser()">S'enregistrer</button>

      </div>

      <div class="container" style="background-color:#f1f1f1">
        <button type="button" onclick="document.getElementById('id02').style.display='none'"
          class="cancelbtn">Retour</button>
        <span class="psw">
          <label style="padding: px;">Vous avez déjà un compte?</label>
          <button id="button02" type="button" onclick="document.getElementById('id01').style.display='block'"
            style="width:auto;">Se connecter</button>
        </span>
      </div>
    </form>
  </div>

  <!-- Se connecter -->

  <div id="id01" class="modal">

    <form class="modal-content animate">

      <div class="container">
        <label for="uname"><b>Nom d'utilisateur</b></label>
        <input type="text" placeholder="Entrer votre nom d'utilisateur" name="uname" required>

        <label for="psw"><b>Mot de passe</b></label>
        <input type="password" placeholder="Entrer votre mot de passe" name="psw" required>

        <button type="submit" style="width: 100%;">Se connecter</button>
        <label>
          <input type="checkbox" checked="checked" name="remember"> Se souvenir de moi
        </label>
      </div>

      <div class="container" style="background-color:#f1f1f1">
        <button type="button" onclick="document.getElementById('id01').style.display='none'"
          class="cancelbtn">Retour</button>
        <span class="psw">
          <label style="padding: 2px;">Vous n'avez pas de compte?</label>
          <button id="button01" type="button" onclick="document.getElementById('id02').style.display='block'"
            style="width:auto;">S'enregistrer</button>
        </span>
      </div>
    </form>
  </div>


    <!-- Afficher infos de l'action -->
    <div class="jumbotron text-center" id="sectionAction" style="background-color: white; padding-bottom: 0px;">
        <h3 id="infosActions"></h3>
        <h3 id="actionName"></h3>
        <div class="row" style="padding-bottom: 75px;">

            <div class="col-sm-6" style="padding-top: 50px; padding-bottom: 0px;">
                <div id="chart" style="color: black;"></div>

                <!-- dropdown -->
                <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Intervalle
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        <li class="dropdown-item" onclick="action2(symbol,'1min');">1min</li>
                        <li class="dropdown-item" onclick="action2(symbol,'5min');">5min</li>
                        <li class="dropdown-item" onclick="action2(symbol,'30min');">30min</li>
                        <li class="dropdown-item" onclick="action2(symbol,'1h');">1h</li>
                        <li class="dropdown-item" onclick="action2(symbol,'1day');">1day</li>
                        <li class="dropdown-item" onclick="action2(symbol,'1week');">1week</li>
                        <li class="dropdown-item" onclick="action2(symbol,'1month');">1month</li>
                    </ul>
                </div>
               <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Type de Graphique
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        <li class="dropdown-item" onclick="action2(symbol,null,30, 'candlestick');">Chandelles</li>
                        <li class="dropdown-item" onclick="action2(symbol,null,30,'area');">Linéaire</li>
                    </ul>
                </div>
            </div>


            
            <div class="col-sm-5" style="padding-top: 25x;">
                <div class="float-container">
                    <div id="wrapper">
                        <h4 id="first">Échange : </h4>
                        <h4 id="actionExchange"></h4>
                    </div>

                    <!-- les infos de l'action a droite-->
                    <div id="wrapper">
                        <h4 id="first">Ratio prix/bénéfice : </h4>
                        <h4 id="actionPERatio"></h4>
                    </div>
                    <div id="wrapper">
                        <h4 id="first">Dividende par action : </h4>
                        <h4 id="actionDividendPerShare"></h4>
                    </div>
                    <div id="wrapper">
                        <h4 id="first">Rendement du dividende : </h4>
                        <h4 id="actionDividendYield"></h4>
                    </div>
                    <div id="wrapper">
                        <h4 id="first">Chiffre d'affaires par action : </h4>
                        <h4 id="actionRevenuePerShare"></h4>
                    </div>
                    <div id="wrapper">
                        <h4 id="first">Capitalisation boursière : </h4>
                        <h4 id="actionMarketCapitalization"></h4>
                    </div>
                    <div id="wrapper">
                        <h4 id="first">Valeur comptable : </h4>
                        <h4 id="actionBookValue"></h4>
                    </div>
                    <div id="wrapper">
                        <h4 id="first">Marge bénéficiaire : </h4>
                        <h4 id="actionProfitMargin"></h4>
                    </div>
                    <div id="wrapper">
                        <h4 id="first">Ratio prix/ventes : </h4>
                        <h4 id="actionPriceToSalesRatio"></h4>
                    </div>
                    <div id="wrapper">
                        <h4 id="first">Bénéfice brut : </h4>
                        <h4 id="actionGrossProfit"></h4>
                    </div>
                    <div id="acheterBtn">
                    </div>
                </div>
                <!-- Boutton acheter-->
                <div class="center">
                    <button type="button" onclick = "acheter()" id="acheter" class="btn btn-success">Acheter</button>
                </div>

            </div>
        </div>
    </div>
    
    <script>
        //logique pour boutton acheter
        function acheter() {
        let quantiteAAcheter = prompt("Veuillez entrer la quantité d'actions à acheter :", 1);
                if (quantiteAAcheter === null) {
                    // L'utilisateur a cliqué sur "Annuler"
                    return false;
                }

                if (isNaN(quantiteAAcheter) || parseInt(quantiteAAcheter) <= 0) {
                    alert("Veuillez entrer un nombre valide.");
                    return false;
                }
                else {
                    location.href = "portefeuille.html";
                }
            }
    </script>

    <!-- Boutton retour (clear la barre de recherche)-->
    <div id="backButton">
        <div class="center" style="padding-top: 30px;">
            <button type="button" id="back" class="btn btn-secondary"
                onclick="location.href = 'Main.html'">Retour</button>
        </div>
    </div>







</body>

</html>